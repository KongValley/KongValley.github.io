{"title":"🌈TypeScript + Webpack","uid":"62684f309c0db332e79b2d3a6327afae","slug":"typescript/typescript-webpack","date":"2020-02-07T19:03:08.000Z","updated":"2024-05-07T12:19:04.240Z","comments":true,"path":"api/articles/typescript/typescript-webpack.json","keywords":null,"cover":null,"content":"<h2 id=\"Install-Typescript\"><a href=\"#Install-Typescript\" class=\"headerlink\" title=\"Install Typescript\"></a>Install Typescript</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i typescript -S</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Install-Webpack\"><a href=\"#Install-Webpack\" class=\"headerlink\" title=\"Install Webpack\"></a>Install Webpack</h2><p>安装下本地开发三件套</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i webpack webpack-cli webpack-dev-server -D</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Install-Plugins\"><a href=\"#Install-Plugins\" class=\"headerlink\" title=\"Install Plugins\"></a>Install Plugins</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i ts-loader clean-webpack-plugin html-webpack-plugin -D</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Add-config-file\"><a href=\"#Add-config-file\" class=\"headerlink\" title=\"Add config file\"></a>Add config file</h2><p>新建 <code>build</code> 文件夹，在文件夹里新建 <code>webpack.config.js</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">HtmlWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">CleanWebpackPlugin</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;clean-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: <span class=\"string\">&quot;./src/index.ts&quot;</span>, <span class=\"comment\">// 指定入口文件</span></span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&quot;main.js&quot;</span> <span class=\"comment\">// 指定输出文件</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">resolve</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">extensions</span>: [</span><br><span class=\"line\">      <span class=\"string\">&quot;.ts&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;.tsx&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;.js&quot;</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [&#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.tsx?$/</span>, <span class=\"comment\">// 匹配ts文件</span></span><br><span class=\"line\">      <span class=\"attr\">use</span>: <span class=\"string\">&#x27;ts-loader&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">exclude</span>: <span class=\"regexp\">/node_modules/</span> <span class=\"comment\">// 除外 node_modules 目录</span></span><br><span class=\"line\">    &#125;]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">devtool</span>: process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&#x27;production&#x27;</span> ? <span class=\"literal\">false</span> : <span class=\"string\">&#x27;source-map&#x27;</span>, <span class=\"comment\">// 如果是生产环境不输出 source map，如果是开发环境生成 source map</span></span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">contentBase</span>: <span class=\"string\">&#x27;./dist&#x27;</span>, <span class=\"comment\">// 告诉服务器从哪个目录中提供内容</span></span><br><span class=\"line\">    <span class=\"attr\">stats</span>: <span class=\"string\">&#x27;errors-only&#x27;</span>, <span class=\"comment\">// 只显示编译过程中错误信息</span></span><br><span class=\"line\">    <span class=\"attr\">compress</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// 不启用 gzip 压缩</span></span><br><span class=\"line\">    <span class=\"attr\">host</span>: <span class=\"string\">&#x27;localhost&#x27;</span>, <span class=\"comment\">// 地址</span></span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"string\">&#x27;8086&#x27;</span> <span class=\"comment\">// 端口</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">CleanWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">cleanOnceBeforeBuildPatterns</span>: [<span class=\"string\">&#x27;./dist&#x27;</span>] <span class=\"comment\">// 每次打包前清理 dist 目录</span></span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">template</span>: <span class=\"string\">&#x27;./src/template/index.html&#x27;</span> <span class=\"comment\">// 作为模版 html</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Install-cross-env\"><a href=\"#Install-cross-env\" class=\"headerlink\" title=\"Install cross-env\"></a>Install cross-env</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i cross-env -D</span><br></pre></td></tr></table></figure>\n\n<p>用来给 <code>package.json</code> 里的 <code>script</code> 添加参数</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;script&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;start&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=development webpack-dev-server --config ./build/webpack.config.js&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>这样我们就可以用 <code>process.env.NODE_ENV</code> 接受到 <code>development</code> 这个值。<br>在开发中我们一般用 <code>development</code> 和 <code>production</code> 来针对开发环境和生产环境进行不同配置。<br>接下来在 <code>webpack.config.js</code> 内写入以下内容</p>\n","feature":true,"text":"Install Typescript1npm i typescript -S Install Webpack安装下本地开发三件套 1npm i webpack ...","permalink":"/post/typescript/typescript-webpack","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"TypeScript","slug":"TypeScript","count":4,"path":"api/categories/TypeScript.json"}],"tags":[{"name":"TypeScript Basic","slug":"TypeScript-Basic","count":4,"path":"api/tags/TypeScript-Basic.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Install-Typescript\"><span class=\"toc-text\">Install Typescript</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Install-Webpack\"><span class=\"toc-text\">Install Webpack</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Install-Plugins\"><span class=\"toc-text\">Install Plugins</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Add-config-file\"><span class=\"toc-text\">Add config file</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Install-cross-env\"><span class=\"toc-text\">Install cross-env</span></a></li></ol>","author":{"name":"大鹏","slug":"blog-author","avatar":"https://blog-chara-img.oss-cn-shanghai.aliyuncs.com/blog-img/avator/567.png","link":"/","description":"Web Developer","socials":{"github":"https://github.com/KongValley","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"https://blog-chara-img.oss-cn-shanghai.aliyuncs.com/blog-img/bilibili.svg","link":"https://live.bilibili.com/4627396"},"juejin":{"icon":"https://blog-chara-img.oss-cn-shanghai.aliyuncs.com/blog-img/juejin.svg","link":"https://juejin.cn/user/1591748568026744"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"🐹MACD指标入门（一）","uid":"9a5eb5546b9c5ae4a2e6f3ed85b9be72","slug":"shares-collection/macd-1","date":"2023-08-28T20:48:35.000Z","updated":"2024-05-07T12:19:04.240Z","comments":true,"path":"api/articles/shares-collection/macd-1.json","keywords":null,"cover":"https://blog-chara-img.oss-cn-shanghai.aliyuncs.com/blog-img/shares/macd-1/wallhaven-ex9gwo.png?x-oss-process=style/4433","text":"什么是 MACDMACD 指标英文名称 Moving Average Convergence / Divergence ，中文被称为指数平滑异同移动平均线 ","permalink":"/post/shares-collection/macd-1","photos":[],"count_time":{"symbolsCount":83,"symbolsTime":"1 mins."},"categories":[{"name":"股市基础技能","slug":"股市基础技能","count":1,"path":"api/categories/股市基础技能.json"}],"tags":[{"name":"股票入门","slug":"股票入门","count":1,"path":"api/tags/股票入门.json"},{"name":"MACD指标","slug":"MACD指标","count":1,"path":"api/tags/MACD指标.json"}],"author":{"name":"大鹏","slug":"blog-author","avatar":"https://blog-chara-img.oss-cn-shanghai.aliyuncs.com/blog-img/avator/567.png","link":"/","description":"Web Developer","socials":{"github":"https://github.com/KongValley","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"https://blog-chara-img.oss-cn-shanghai.aliyuncs.com/blog-img/bilibili.svg","link":"https://live.bilibili.com/4627396"},"juejin":{"icon":"https://blog-chara-img.oss-cn-shanghai.aliyuncs.com/blog-img/juejin.svg","link":"https://juejin.cn/user/1591748568026744"}}}},"feature":true},"next_post":{"title":"😗Symbol in TypeScript","uid":"9bad113658b65eff1f0162a555ad5af2","slug":"typescript/typescript-symbol","date":"2020-02-02T18:06:13.000Z","updated":"2024-05-07T12:19:04.240Z","comments":true,"path":"api/articles/typescript/typescript-symbol.json","keywords":null,"cover":null,"text":"Web Bookmark MDN上的Symbol介绍 基础特性1.唯一性 123const s1 = Symbol('Sym')const s2 = Symbo...","permalink":"/post/typescript/typescript-symbol","photos":[],"count_time":{"symbolsCount":541,"symbolsTime":"1 mins."},"categories":[{"name":"TypeScript","slug":"TypeScript","count":4,"path":"api/categories/TypeScript.json"}],"tags":[{"name":"TypeScript Basic","slug":"TypeScript-Basic","count":4,"path":"api/tags/TypeScript-Basic.json"}],"author":{"name":"大鹏","slug":"blog-author","avatar":"https://blog-chara-img.oss-cn-shanghai.aliyuncs.com/blog-img/avator/567.png","link":"/","description":"Web Developer","socials":{"github":"https://github.com/KongValley","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"https://blog-chara-img.oss-cn-shanghai.aliyuncs.com/blog-img/bilibili.svg","link":"https://live.bilibili.com/4627396"},"juejin":{"icon":"https://blog-chara-img.oss-cn-shanghai.aliyuncs.com/blog-img/juejin.svg","link":"https://juejin.cn/user/1591748568026744"}}}},"feature":true}}